<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logic Evaluator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>
            <span class="logo">
                <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Logic Gate Icon -->
                    <rect x="10" y="15" width="40" height="30" rx="4" fill="url(#logicGradient)" stroke="#2c3e50" stroke-width="2"/>
                    
                    <!-- Input lines -->
                    <line x1="5" y1="25" x2="15" y2="25" stroke="#2c3e50" stroke-width="2"/>
                    <line x1="5" y1="35" x2="15" y2="35" stroke="#2c3e50" stroke-width="2"/>
                    
                    <!-- Output line -->
                    <line x1="45" y1="30" x2="55" y2="30" stroke="#2c3e50" stroke-width="2"/>
                    
                    <!-- Logic symbols -->
                    <text x="30" y="35" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold">‚àß</text>
                    
                    <!-- Input labels -->
                    <text x="12" y="23" fill="white" font-family="Arial, sans-serif" font-size="8" font-weight="bold">A</text>
                    <text x="12" y="33" fill="white" font-family="Arial, sans-serif" font-size="8" font-weight="bold">B</text>
                    
                    <!-- Output label -->
                    <text x="48" y="28" fill="white" font-family="Arial, sans-serif" font-size="8" font-weight="bold">Y</text>
                    
                    <!-- Circuit dots -->
                    <circle cx="15" cy="25" r="2" fill="#2c3e50"/>
                    <circle cx="15" cy="35" r="2" fill="#2c3e50"/>
                    <circle cx="45" cy="30" r="2" fill="#2c3e50"/>
                    
                    <defs>
                        <linearGradient id="logicGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
            </span> 
            Logic Evaluator
        </h1>
        
        <div class="input-section">
            <div class="variable-inputs">
                <div class="input-group">
                    <label for="p">p:</label>
                    <select id="p">
                        <option value="True">True</option>
                        <option value="False">False</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="q">q:</label>
                    <select id="q">
                        <option value="True">True</option>
                        <option value="False">False</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="r">r:</label>
                    <select id="r">
                        <option value="True">True</option>
                        <option value="False">False</option>
                    </select>
                </div>
            </div>

            <div class="expression-input">
                <label for="expr">Logical Expression:</label>
                <input type="text" id="expr" placeholder="Enter expression (e.g., p and q or not r)" value="p and q">
                <div class="examples">
                    <small>Examples: p and q, p or q, not p, p and (q or r)</small>
                </div>
            </div>

            <button onclick="evaluateExpression()">Evaluate</button>
        </div>

        <div class="result-section">
            <h3>Result:</h3>
            <div id="result" class="result-box">-</div>
        </div>

        <div class="instructions">
            <h3>How to use:</h3>
            <ul>
                <li>Select True/False for variables p, q, r</li>
                <li>Enter a logical expression using: and, or, not</li>
                <li>Use variables: p, q, r</li>
                <li>Click Evaluate to see the result</li>
            </ul>
        </div>
    </div>

    <!-- Contact Section -->
    <div class="contact-section">
        <div class="contact-container">
            <h3>Contact Us</h3>
            <div class="contact-grid">
                <div class="contact-item">
                    <span class="contact-icon">üìß</span>
                    <div class="contact-details">
                        <h4>Email</h4>
                        <a href="mailto:jatavaj09@gmail.com">jatavaj09@gmail.com</a>
                    </div>
                </div>
                
                <div class="contact-item">
                    <span class="contact-icon">üíº</span>
                    <div class="contact-details">
                        <h4>LinkedIn</h4>
                        <a href="https://www.linkedin.com/in/ajay-jatav-b15428207?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" target="_blank">@ajay-jatav</a>
                    </div>
                </div>
                
                <div class="contact-item">
                    <span class="contact-icon">üêô</span>
                    <div class="contact-details">
                        <h4>GitHub</h4>
                        <a href="https://github.com/jatavajay" target="_blank">@jatavajay</a>
                    </div>
                </div>
                
                <div class="contact-item">
                    <span class="contact-icon">üì±</span>
                    <div class="contact-details">
                        <h4>Phone</h4>
                        <a href="tel:+919876543210">+91 9876543210</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function evaluateExpression() {
            const p = document.getElementById('p').value;
            const q = document.getElementById('q').value;
            const r = document.getElementById('r').value;
            const expr = document.getElementById('expr').value.trim();

            if (!expr) {
                alert('Please enter a logical expression');
                return;
            }

            // Show loading
            document.getElementById('result').textContent = 'Calculating...';
            document.getElementById('result').className = 'result-box loading';

            fetch('/evaluate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    p: p,
                    q: q,
                    r: r,
                    expr: expr
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.error) {
                    document.getElementById('result').textContent = 'Error: ' + data.error;
                    document.getElementById('result').className = 'result-box error';
                } else {
                    document.getElementById('result').textContent = data.result;
                    document.getElementById('result').className = 'result-box success';
                }
            })
            .catch(error => {
                document.getElementById('result').textContent = 'Error: ' + error;
                document.getElementById('result').className = 'result-box error';
            });
        }

        // Allow pressing Enter to evaluate
        document.getElementById('expr').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                evaluateExpression();
            }
        });
    </script>
</body>
</html>
